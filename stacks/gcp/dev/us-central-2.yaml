---
import:
  - gcp/dev/_defaults
  - gcp/dev/globals

vars:
  enabled: true
  region: "us-centra12"
  environment: "dev"
  namespace: "accelerator-dev"
  stage: "uc2"

components:
  terraform:
    vpc:
      metadata:
        component: gcp/net-vpc
      vars:
        name: vpc
        auto_create_subnetworks: false
        subnets:
        - name: "subnet-1"
          
          ip_cidr_range: "10.1.0.0/16"
          secondary_ip_ranges:
            -
              range_name: "pods-1" 
              ip_cidr_range: "172.16.1.0/24"
              
            -
              range_name: "services-1"
              ip_cidr_range: "192.168.1.0/24"
        - name: "subnet-2"
          
          ip_cidr_range: "10.2.0.0/16"
          secondary_ip_ranges:
            -
              range_name: "pods-2" 
              ip_cidr_range: "172.16.2.0/24"
              
            -  range_name: "services-2"
               ip_cidr_range: "192.168.2.0/24"

    gcs-bucket:
      metadata:
        component: gcp/gcs-bucket
      vars:
        bucket_name: "test-bucket"
        kms_encryption_enabled: false
        gcs_bucket: {}
        kms: {}
        bucket_iam: []
        additional_tag_map:
          "env": "dev"
          "component": "gcs-bucket"
          "class": "storage"
        
        