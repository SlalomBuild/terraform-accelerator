---
import:
  - dev/_defaults
  - dev/globals

vars:
  region: us-east-2
  environment: ue2
  namespace: accelerator-dev

components:
  terraform:
    vpc-dev1:
      metadata:
        component: vpc
        type: real
      vars:
        name: vpc-dev1
        tags:
          component: "vpc"
          expense-class: "network"
        ipv4_primary_cidr_block: "10.159.128.0/18"
        ipv4_cidrs:
          -
            public:
              - "10.159.128.0/24"
              - "10.159.129.0/24"
              - "10.159.130.0/24"
            private:
              - "10.159.144.0/20"
              - "10.159.160.0/20"
              - "10.159.176.0/20"
        enable_vpc_endpoints: true
        transit_gateway_id: "tgw-00765178b819867a6"
        nat_gateway_enabled: true
        availability_zones:
          - us-east-2a
          - us-east-2b
          - us-east-2c
    dns-delegated-dev1:
      metadata:
        component: dns-delegated
        type: real
      vars:
        tags:
          component: "dns-delegated"
          expense-class: "network"
        zone_config:
          - subdomain: dev1
            zone_name: accelerator.slalom.com
        request_acm_certificate: true
        dns_private_zone_enabled: false
    vpc-dev2:
      metadata:
        component: vpc
        type: real
      vars:
        name: vpc-dev2
        tags:
          component: "vpc"
          expense-class: "network"
        ipv4_primary_cidr_block: "10.159.192.0/18"
        ipv4_cidrs:
          -
            public:
              - "10.159.192.0/24"
              - "10.159.193.0/24"
              - "10.159.194.0/24"
            private:
              - "10.159.208.0/20"
              - "10.159.224.0/20"
              - "10.159.240.0/20"
        enable_vpc_endpoints: true
        transit_gateway_id: "tgw-00765178b819867a6"
        nat_gateway_enabled: true
        availability_zones:
          - us-east-2a
          - us-east-2b
          - us-east-2c
    dns-delegated-dev2:
      metadata:
        component: dns-delegated
        type: real
      vars:
        tags:
          component: "dns-delegated"
          expense-class: "network"
        zone_config:
          - subdomain: dev2
            zone_name: accelerator.slalom.com
        request_acm_certificate: true
        dns_private_zone_enabled: false