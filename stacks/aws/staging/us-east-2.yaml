---
import:
  - staging/_defaults
  - staging/globals
  - catalog/asg/*
  - catalog/alb/*

vars:
  region: us-east-2
  environment: ue2
  namespace: accelerator-staging

components:
  terraform:
    vpc:
      vars:
        name: vpc
        tags:
          component: "vpc"
          expense-class: "network"
        ipv4_primary_cidr_block: "10.240.192.0/18"
        ipv4_cidrs:
        -
          public:
            - "10.240.192.0/24"
            - "10.240.193.0/24"
            - "10.240.194.0/24"
          private:
            - "10.240.208.0/20"
            - "10.240.224.0/20"
            - "10.240.240.0/20"
         
        #transit_gateway_id: "tgw-00765178b819867a6"
        nat_gateway_enabled: true
        availability_zones:
          - us-east-2a
          - us-east-2b
          - us-east-2c
    dns-delegated:
      vars:
        tags:
          component: "dns-delegated"
          expense-class: "network"
        zone_config:
          - subdomain: staging
            zone_name: accelerator.slalom.com
        request_acm_certificate: true
        dns_private_zone_enabled: false

    guardduty:
      vars:
        name: guardduty
        tags:
          component: "guardduty"
          expense-class: "compute"
    macie:
      vars:
        name: macie
        tags:
          component: "macie"
          expense-class: "compute"
    sns:
      vars:
        name: sns
        tags:
          component: "sns"
          expense-class: "network"

    config:
      vars:
        name: config
        tags:
          component: "config"
          expense-class: "compute"
        global_resource_collector_region: "us-east-2"
        create_iam_role: true

    cloudwatch:
      vars:
        name: cloudwatch
        tags:
          component: "cloudwatch"
          expense-class: "compute"
        cloudwatch_event_rule_pattern:
          source: 
            - aws.health
          detail-type: 
            - "AWS Health Event"
          detail:
            service:
              - EC2
            eventYypeCategory:
              - issue
    waf:
      vars:
        name: waf
        tags:
          component: "waf"
          expense-class: "compute"
    
    securityhub:
      vars:
        name: "securityhub"
      tags:
          component: "securityhub"
          expense-class: "compute"